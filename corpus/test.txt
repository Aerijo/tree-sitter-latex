==================
Plain text
==================
fubar
---

(document
  (text_mode
    (text)))

==================
Single command
==================
fubar\quux wibble
---

(document
  (text_mode
    (text)
    (command (token))
    (text)))

==================
Single command with arguments
==================
fubar\quux[opt]{bar} wibble
---

(document
  (text_mode
    (text)
    (command (token))
    (opt_text_group (begin_opt) (text) (end_opt))
    (text_group (begin_group) (text) (end_group))
    (text)))

===================
Hello world
==================
\documentclass[12pt]{article}
\begin{document}
Hello world!
$\tag{Hello world!}x^2$ %math mode
\end{document}
------------

(document
  (text_mode
    (command
      (documentclass
        (documentclass_token)
        (opt_text_group (begin_opt) (text) (end_opt))
        (simple_text_group (begin_group) (text) (end_group))))
    (text)
    (text_environment
      (begin (begin_token)
        (simple_text_group (begin_group) (text) (end_group)))
      (text)
      (inline_math
        (math_shift)
        (math_mode
          (tag (tag_token) (math_text_group (begin_group) (text_mode (text)) (end_group)))
          (text)
          (superscript)
          (text))
        (math_shift))
      (text)
      (comment (comment_char) (comment_text))
      (text)
      (end (end_token) (simple_text_group (begin_group) (text) (end_group))))))

======
@ group
======
\wibble@quux\makeatletter\foo@bar\makeatother\gronk@baffle
--------

(document
  (text_mode
    (command (token))
    (text)
    (at_group
      (makeatletter (makeatletter_token))
      (at_command (at_token))
      (makeatother (makeatother_token)))
    (command (token)) (text)))
